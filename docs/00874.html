<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>OSAL_CRIT_Leave Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00874.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00853.html" target="topic">OSAL Library Help</a> &gt; <a href="00862.html" target="topic">Library Interface</a> &gt; c) Critical Section Functions &gt; <a href="00874.html" target="topic">OSAL_CRIT_Leave Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Core Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00020.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00873.html" target="topic">Previous</a> | <a href="00862.html" target="topic">Up</a> | <a href="00880.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: OSAL_CRIT_Leave@OSAL_CRIT_TYPE@OSAL_CRITSECT_DATA_TYPE Topic Title: OSAL_CRIT_Leave Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
OSAL_CRIT_Leave Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This function leaves a critical section of code. It is assumed that the sequence of operations bounded by the enter and leave critical section operations is treated as one atomic sequence that will not be disturbed. The severity should match the severity level used in the corresponding <a href="00873.html" target="topic">OSAL_CRIT_Enter</a> call to ensure that the RTOS carries out the correct action.</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #000080">void</span></strong> <strong><span style="color: #000000">OSAL_CRIT_Leave</span></strong>(
    <a href="00875.html" target="topic">OSAL_CRIT_TYPE</a> <strong><span style="color: #000000">severity</span></strong>, 
    OSAL_CRITSECT_DATA_TYPE <strong><span style="color: #000000">status</span></strong>
);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
severity&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
OSAL_CRIT_TYPE_LOW, The scheduler will be unlocked, if no other nested calls to OSAL_CRIT_ENTER have been made.<br>OSAL_CRIT_TYPE_HIGH, Interrupts are returned to the state passed into this function. The state should of been saved by an earlier call to <a href="00873.html" target="topic">OSAL_CRIT_Enter</a>.<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
status&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
The value which will be used to set the state of global interrupts, if OSAL_CRIT_TYPE_HIGH is passed in.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The sequence of operations bounded by the <a href="00873.html" target="topic">OSAL_CRIT_Enter</a> and OSAL_CRIT_Leave form a critical section. The severity level defines whether the RTOS should perform task locking or completely disable all interrupts.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12"> OSAL_CRITSECT_DATA_TYPE IntState;
 <i><span style="color: #008000">// prevent other tasks preempting this sequence of code</span></i>
 intState = <a href="00873.html" target="topic">OSAL_CRIT_Enter</a>(OSAL_CRIT_TYPE_LOW);
 <i><span style="color: #008000">// modify the peripheral</span></i>
 DRV_USART_Reinitialize( objUSART,  &amp;initData);
 OSAL_CRIT_Leave(OSAL_CRIT_TYPE_LOW, IntState);</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00853.html" target="topic">OSAL Library Help</a> &gt; <a href="00862.html" target="topic">Library Interface</a> &gt; c) Critical Section Functions &gt; <a href="00874.html" target="topic">OSAL_CRIT_Leave Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Core Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00020.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00873.html" target="topic">Previous</a> | <a href="00862.html" target="topic">Up</a> | <a href="00880.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: OSAL_CRIT_Leave@OSAL_CRIT_TYPE@OSAL_CRITSECT_DATA_TYPE Topic Title: OSAL_CRIT_Leave Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>